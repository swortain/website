<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>剑山的个人网站 - CyberMatrix|赛博阵列</title>


    

<link rel="stylesheet" type="text/css" href="https://swortain.wang/css/bootstrap.min.css">

<link rel="stylesheet" type="text/css" href="https://swortain.wang/fonts/line-icons.css">

<link rel="stylesheet" type="text/css" href="https://swortain.wang/css/slicknav.css">




<link rel="stylesheet" type="text/css" href="https://swortain.wang/css/animate.css">

<link rel="stylesheet" type="text/css" href="https://swortain.wang/css/owl.carousel.css">

<link rel="stylesheet" type="text/css" href="https://swortain.wang/css/main.css">

<link rel="stylesheet" type="text/css" href="https://swortain.wang/css/responsive.css">

    <link rel="stylesheet" type="text/css" href="https://swortain.wang/css/nivo-lightbox.css">

</head>

<body>

    <header id="header-wrap">

        

<nav class="navbar navbar-expand-lg fixed-top  scrolling-navbar">



  
  <div class="container">

    

    <div class="navbar-header ">
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main-navbar"
        aria-controls="main-navbar" aria-expanded="false" aria-label="Toggle navigation">
      </button>
      <a href="/" class="navbar-brand"><img src="https://swortain.wang/img/logo.png" alt=""></a>
    </div>

    <div class="collapse navbar-collapse row" id="main-navbar">
      <div class="col-md-9">
        <ul class="navbar-nav mr-auto ">
          
          <li class="nav-item " style="flex: auto;">
            <a class="nav-link " href="/" style="text-align: center;">
              Home|主页
            </a>
          </li>
          
          <li class="nav-item " style="flex: auto;">
            <a class="nav-link " href="/project/" style="text-align: center;">
              project|项目
            </a>
          </li>
          
          <li class="nav-item " style="flex: auto;">
            <a class="nav-link " href="/portfolio/" style="text-align: center;">
              portfolio|作品集
            </a>
          </li>
          
          <li class="nav-item " style="flex: auto;">
            <a class="nav-link " href="/blog/" style="text-align: center;">
              blog|博客
            </a>
          </li>
          
        </ul>
      </div>

      <div class="input-group col-md-3 ">
        <input type="search" class="form-control" autocomplete="off" name="s" placeholder="Search..." id="search-input"
          value="" style="background-color: transparent;">
        <div class="input-group-append">
          <button class="btn btn-outline-secondary" type="button" id="search-btn"><i class="lni-search"></i></button>
        </div>

      </div>


    </div>

  </div>


  
  <ul class="mobile-menu">

    

    <li class="nav-item ">

      <a class="nav-link " href="/">
        Home|主页
      </a>
    </li>

    

    <li class="nav-item ">

      <a class="nav-link " href="/project/">
        project|项目
      </a>
    </li>

    

    <li class="nav-item ">

      <a class="nav-link " href="/portfolio/">
        portfolio|作品集
      </a>
    </li>

    

    <li class="nav-item ">

      <a class="nav-link " href="/blog/">
        blog|博客
      </a>
    </li>

    

    <div class="input-group col-md-12 " style="padding-bottom: 1.0em">
      <input type="search" class="form-control" autocomplete="off" name="s" placeholder="Search..." id="search-input"
        value="" style="background-color: transparent;">
      <div class="input-group-append">
        <button class="btn btn-outline-secondary" type="button" id="search-btn"><i class="lni-search"></i></button>
      </div>

    </div>

  </ul>
  

</nav>


    </header>

    
    
    

    
        <div class="page-header"style="background: url(/project/cybermatrix/head.jpg); background-size: cover;background-position: center">
    
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <div class="breadcrumb-wrapper">
                        <h2 class="product-title">CyberMatrix|赛博阵列</h2>
                        <ol class="breadcrumb">
                            <li class="current"> Home/project/cybermatrix/ </li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div id="content" class="section-padding">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 col-md-12 col-xs-12">

                    <div class="blog-post single-post">



                        <div class="post-thumb">


                            <div class="hover-wrap">
                            </div>
                        </div>


                        <div class="post-content">
                            <h2 class="post-title">CyberMatrix|赛博阵列</h2>
                            <div class="meta">
                                <span class="meta-part"><i class="lni-user"></i> 剑山 </span>
                                <span class="meta-part"></i>  March 17,
                                    2023 </span>

                                
                            </div>
                            <div class="entry-summary">
                                <p>CyberMatrix|赛博阵列是一个赛博朋克风格的桌面摆件，硬件采用嘉立创EDA设计，软件在platformIO上编写。代码开源在github上。</p>
<h1 id="功能">功能</h1>
<p>用ESP32为控制器。驱动5个7x11的方形点阵，背部有5个WS2812作为背光。板载加速度计和温度传感器。</p>
<h2 id="时间显示">时间显示</h2>
<p>5个点阵可以显示当前的小时和分钟。并且由于ESP32自带WiFi，所以可以连接到NTP服务器进行授时，省去了DS3231之类的实时时钟芯片。
不过这里有个字体的问题，因为为了能容易的实现print之类的方法，使用了Adafruit_GFX的库。这样可以把点阵当做一个屏幕来控制，但是因为像素非常的少，所以一定要精确控制字体中每个像素的亮灭。这样就需要自定义一个专用的字体。</p>
<h2 id="点阵过渡效果">点阵过渡效果</h2>
<p>为了让点阵有过渡的效果，我写了一个库。实现了在两个画面切换时，随机找到需要改变的一个像素进行切换。并且在不同的像素间加入很小的延迟，实现效果类似以前那种反应比较慢的电子产品的效果。</p>
<h2 id="背景灯光">背景灯光</h2>
<p>背面有5个WS2812留在了PCB开孔和开槽的附近，当有反光的外壳背板时（暂时还没做）可以从背面透出灯光，实现一些待机和敲击唤醒的灯效。
这里为了呼吸灯效更自然一些，我用了电机控制里面常用的一个Sigmoid曲线。可以在启动和停止时更平滑一些。</p>
<h2 id="温度和加速度传感器">温度和加速度传感器</h2>
<p>因为觉得只有时间的显示有点单调，为了增加一些交互，我在板子上做了一个温度传感器和加速度计，用加速度计可以识别到附近是否有桌面的敲击，并且双击时切换屏幕显示内容为当前温度。</p>
<blockquote>
<p>这里有个尴尬的地方是画PCB的时候我尽量的原理了ESP32和可能发热的器件，但是没想到和正面的TM1640距离过近了，导致现在测量的温度比环境温度高了一些。。。下次改版的时候再说吧</p>
</blockquote>
<p>识别敲击的实现是在上电的时候连续采样求平均得到一个基准的XYZ，然后读取实时的XYZ，看和基准值的差别。差别大于阈值时认为有敲击，这里有个去抖的问题，用类似按键的去抖逻辑写了一个状态机来识别双击和去抖。效果大概就没问题了。</p>
<h1 id="开源代码">开源代码</h1>
<p>代码可以在<a href="https://github.com/swortain/CyberMatrix">这里</a>找到，如果喜欢的话可以STAR一下。</p>
<h1 id="原理图">原理图</h1>
<p><img src="SCH_257032A_CyberMatrix_1-P1_2023-03-22.png" alt=""></p>
<h1 id="实拍图">实拍图</h1>
<p><img src="aadc01e6fa3e958e5aa56ce6ce1bcff.jpg" alt=""></p>
<p><img src="226e256a8461577af441675a64e7536.jpg" alt=""></p>

                            </div>
                            
                        </div>

                    </div>


                    <div id="comments">

                        


<section class="comments">
<script src="https://utteranc.es/client.js"
        repo="swortain/website"
        issue-term="title"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
</section>

                        
                    </div>

                </div>

                


            </div>
        </div>
    </div>


    
<footer>

    <section class="footer-Content">
        <div class="container">
            <div class="row">
                <div class="col-lg-6 col-md-6 col-sm-6 offset-md-2 offset-lg-2 offset-sm-2">
                    <div class="widget">
                        <h3 class="block-title">联系方式</h3>
                        <ul class="contact-footer">
                            <li>
                                <strong>邮箱 :</strong><span><a href="mailto:jianshan_54@126.com">jianshan_54@126.com</a></span>
                            </li>
                            <li>
                                <strong>简书 :</strong><span><a href="http://www.jianshu.com/u/45d8f935d361">www.jianshu.com/u/45d8f935d361</a></span>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-4 ">
                    <div class="widget">
                        <h3 class="block-title">社交媒体</h3>
                        <ul class="footer-social">
                            <li><a class="facebook" href="https://www.facebook.com/profile.php?id=100009586127081"><i
                                        class="lni-facebook-filled"></i></a></li>
                            <li><a class="linkedin" href="https://www.linkedin.com/in/jianwei-wang-a287ab7a/"><i
                                        class="lni-linkedin-fill"></i></a></li>

                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>



</footer>


    <a href="#" class="back-to-top">
        <i class="lni-chevron-up"></i>
    </a>

    

<script src="https://swortain.wang/js/jquery-min.js"></script>
<script src="https://swortain.wang/js/fuse.min.js"></script>
<script src="https://swortain.wang/js/fastsearch.min.js"></script>
<script src="https://swortain.wang/js/search.js"></script>
<script src="https://swortain.wang/js/popper.min.js"></script>
<script src="https://swortain.wang/js/bootstrap.min.js"></script>
<script src="https://swortain.wang/js/jquery.counterup.min.js"></script>
<script src="https://swortain.wang/js/waypoints.min.js"></script>
<script src="https://swortain.wang/js/wow.js"></script>
<script src="https://swortain.wang/js/owl.carousel.min.js"></script>
<script src="https://swortain.wang/js/jquery.slicknav.js"></script>
<script src="https://swortain.wang/js/main.js"></script>

    <script src="https://swortain.wang/js/nivo-lightbox.js"></script>
    <script src="https://swortain.wang/js/form-validator.min.js"></script>
    <script src="https://swortain.wang/js/contact-form-script.min.js"></script>
    <script src="https://swortain.wang/js/summernote.js"></script>

    <div id="preloader">
        <div class="loader" id="loader-1"></div>
    </div>

</body>

</html>